<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles/program-detail.css" />
    <link rel="stylesheet" href="styles/footer.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <title>DevSchool - Pelatihan Software Engineering</title>
  </head>

  <body>
    <!-- Header Section -->
    <header>
      <div class="nav-container">
        <a href="index.html" class="logo">
          <img src="assets/A.png" alt="DevSchool Logo" />
        </a>
        <nav>
          <ul>
            <li><a href="index.html#program">Program Pelatihan</a></li>
            <li><a href="index.html#informasi">Informasi Pelatihan</a></li>
            <li><a href="index.html#berita">Ber ita dan Artikel</a></li>
            <li><a href="index.html#galeri">Galeri</a></li>
            <li><a href="index.html#testimonial">Testimonial</a></li>
            <li><a href="index.html#kontak">Kontak</a></li>
          </ul>
        </nav>
        <div class="auth-buttons">
          <a href="masuk.html"><button class="btn-masuk">Masuk</button></a>
          <a href="daftar.html"><button class="btn-daftar">Daftar</button></a>
        </div>
      </div>
    </header>

    <section id="program-detail" class="program-detail-section">
      <div class="container">
        <img id="program-img" class="program-img" src="" alt="Program Image" />
        <div class="program-info">
          <h2 id="program-title" class="program-title"></h2>
          <p id="program-description" class="program-description"></p>
          <p id="program-details" class="program-details"></p>
          <a href="index.html" class="btn btn-primary">Kembali ke Program</a>
        </div>
      </div>
    </section>

    <footer>
      <div class="footer-container">
        <div class="footer-about">
          <h3>Tentang DevSchool</h3>
          <p>
            DevSchool adalah platform pembelajaran daring yang bertujuan untuk
            mengembangkan keterampilan software engineering. Kami menawarkan
            berbagai program pelatihan untuk membantu Anda menjadi developer
            yang handal.
          </p>
        </div>

        <div class="footer-links">
          <h3>Menu</h3>
          <ul>
            <li><a href="index.html#program">Program Pelatihan</a></li>
            <li><a href="index.html#informasi">Informasi Pelatihan</a></li>
            <li><a href="index.html#berita">Berita dan Artikel</a></li>
            <li><a href="index.html#galeri">Galeri</a></li>
            <li><a href="index.html#testimonial">Testimonial</a></li>
            <li><a href="index.html#kontak">Kontak</a></li>
          </ul>
        </div>

        <div class="footer-social">
          <h3>Ikuti Kami</h3>
          <ul>
            <li>
              <a href="#"
                ><img src="assets/facebook.svg" alt="Facebook" /> Facebook</a
              >
            </li>
            <li>
              <a href="#"
                ><img src="assets/instagram.svg" alt="Instagram" /> Instagram</a
              >
            </li>
            <li>
              <a href="#"><img src="assets/x.svg" alt="X" /> X</a>
            </li>
            <li>
              <a href="#"
                ><img src="assets/linkedin.svg" alt="LinkedIn" /> LinkedIn</a
              >
            </li>
          </ul>
        </div>

        <!-- Address Section -->
        <div class="footer-address">
          <h3>Kontak Kami</h3>
          <address>
            <p>
              <strong>Alamat:</strong> Jl. Teknologi No. 456, Bandung, Indonesia
            </p>
            <p>
              <strong>Email:</strong>
              <a href="mailto:info@devschool.com">info@devschool.com</a>
            </p>
            <p><strong>Telepon:</strong> +62 21 7890 1234</p>
          </address>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2024 DevSchool. All Rights Reserved.</p>
      </div>
    </footer>

    <script>
      // Fetch programs.json data
      async function fetchPrograms() {
        const response = await fetch("data/programs.json");
        const programs = await response.json();
        return programs.programs;
      }

      // Display program detail on program-detail.html
      async function displayProgramDetail() {
        const urlParams = new URLSearchParams(window.location.search);
        const programId = urlParams.get("id");
        const programs = await fetchPrograms();

        const program = programs.find((prog) => prog.id == programId);

        if (program) {
          document.getElementById("program-img").src = program.imageUrl;
          document.getElementById("program-img").alt = program.altText;
          document.getElementById("program-title").textContent = program.title;
          document.getElementById("program-description").textContent =
            program.description;
          document.getElementById("program-details").textContent =
            program.details;
        } else {
          document.getElementById("program-title").textContent =
            "Program not found.";
        }
      }

      // Display programs on index.html
      async function displayPrograms() {
        const programs = await fetchPrograms();
        const programCardsContainer = document.getElementById("programCards");

        programs.forEach((program) => {
          const card = document.createElement("div");
          card.classList.add("card");

          card.innerHTML = `
      <img src="${program.imageUrl}" class="card-img-top" alt="${program.altText}" />
      <div class="card-body">
        <h5 class="card-title">${program.title}</h5>
        <p class="card-text">${program.description}</p>
        <a href="${program.buttonUrl}" class="btn btn-primary">${program.buttonText}</a>
      </div>
    `;

          programCardsContainer.appendChild(card);
        });
      }

      // Check if we are on the program-detail.html page
      if (window.location.pathname.includes("program-detail.html")) {
        displayProgramDetail();
      } else {
        displayPrograms();
      }
    </script>
  </body>
</html>
