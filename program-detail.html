<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles/program-detail.css" />
    <link rel="stylesheet" href="styles/footer.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <title>DevSchool - Pelatihan Software Engineering</title>
  </head>

  <body>
    <!-- Header Section -->
    <header>
      <div class="nav-container">
        <a href="index.html" class="logo">
          <img src="assets/A.png" alt="DevSchool Logo" />
        </a>
        <nav>
          <ul>
            <li><a href="index.html#program">Program Pelatihan</a></li>
            <li><a href="index.html#informasi">Informasi Pelatihan</a></li>
            <li><a href="index.html#berita">Ber ita dan Artikel</a></li>
            <li><a href="index.html#galeri">Galeri</a></li>
            <li><a href="index.html#testimonial">Testimonial</a></li>
            <li><a href="index.html#kontak">Kontak</a></li>
          </ul>
        </nav>
        <div class="auth-buttons">
          <a href="masuk.html"><button class="btn-masuk">Masuk</button></a>
          <a href="daftar.html"><button class="btn-daftar">Daftar</button></a>
        </div>
      </div>
    </header>

    <div id="programDetail" class="program-detail-container">
      <a href="index.html" class="btn-primary">Back to Programs</a>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");

        fetch("data/programs.json")
          .then((response) => response.json())
          .then((data) => {
            const program = data.programs.find((p) => p.id == id);
            if (program) {
              const container = document.getElementById("programDetail");
              const pelatihList = program.details.pelatih
                .map(
                  (pelatih) => `
                <li>
                  <strong>${pelatih.nama}</strong> - ${pelatih.jabatan}, ${pelatih.pengalaman}
                </li>
              `
                )
                .join("");

              const kurikulumList = program.details.kurikulum
                .map((kurikulum) => `<li>${kurikulum}</li>`)
                .join("");

              container.innerHTML = `
              <div class="border-box">
                <h2>${program.title}</h2>
                <img src="${program.imageUrl}" alt="${program.altText}" class="program-detail-img" />
              </div>

              <div class="border-box">
                <h3>Description</h3>
                <p>${program.description}</p>
              </div>

              <div class="border-box">
                <h3>Kurikulum</h3>
                <ul>${kurikulumList}</ul>
              </div>

              <div class="border-box">
                <h3>Jadwal</h3>
                <p>${program.details.jadwal}</p>
              </div>

              <div class="border-box">
                <h3>Biaya</h3>
                <p>${program.details.biaya}</p>
              </div>

              <div class="border-box">
                <h3>Pelatih</h3>
                <ul>${pelatihList}</ul>
              </div>

              <div class="border-box">
                <h3>Syarat</h3>
                <p>${program.details.syarat}</p>
              </div>

              <a href="" class="btn-primary">Daftar Program</a>
            `;
            } else {
              document.getElementById(
                "programDetail"
              ).innerHTML = `<p>Program not found.</p>`;
            }
          })
          .catch((error) =>
            console.error("Error fetching the JSON data:", error)
          );
      });
    </script>

    <!-- Footer -->
    <div id="footer"></div>
    <script>
      fetch("components/footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer").innerHTML = data;
        })
        .catch((error) => console.error("Error loading footer:", error));
    </script>
  </body>
</html>
